<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bana Väg – Skill & Service Registry</title>
  <style>
    :root { --primary: #4f46e5; --warning: #f59e0b; --bg: #f8fafc; }
    body { font-family: system-ui, sans-serif; background: var(--bg); margin: 0; padding: 0; color: #1e293b; }
    .container { max-width: 1000px; margin: 2rem auto; padding: 0 1rem; }
    header { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); text-align: center; margin-bottom: 2rem; }
    h1 { font-size: 2.5rem; color: #0f172a; margin: 0 0 0.5rem; }
    .warning { background: #fffbeb; border-left: 4px solid var(--warning); padding: 1rem; margin: 2rem 0; border-radius: 8px; }
    .form-card, .list { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 2rem; }
    input, select, textarea { width: 100%; padding: 0.75rem; margin: 0.5rem 0; border: 1px solid #cbd5e1; border-radius: 8px; font-size: 1rem; }
    button { padding: 0.75rem 1.5rem; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; }
    button:hover { background: #4338ca; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1.5rem; }
    .card { border: 1px solid #e2e8f0; border-radius: 12px; padding: 1.5rem; background: #ffffff; }
    .category { display: inline-block; background: #e0e7ff; color: #4f46e5; padding: 0.25rem 0.75rem; border-radius: 999px; font-size: 0.875rem; font-weight: 600; }
    .limitations { background: #fffbeb; border-left: 3px solid var(--warning); padding: 0.75rem; margin-top: 1rem; font-size: 0.9rem; }
    .actions { margin-top: 1rem; text-align: right; }
    .actions button { background: #ef4444; padding: 0.5rem 1rem; font-size: 0.875rem; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Community Skills & Services</h1>
      <p>Connecting voluntary professional help with those in need</p>
    </header>

    <div class="warning">
      <strong>Important:</strong> All services are voluntary offerings from individuals, not institutional commitments. 
      Always independently verify credentials and understand stated limitations before engaging any service.
    </div>

    <div class="form-card">
      <h2>Offer Your Skill</h2>
      <input id="skill" placeholder="Skill or service (e.g. Legal consultation, Dental check-up)">
      <select id="category">
        <option value="">Select category</option>
        <option>Legal Services</option>
        <option>Medical/Dental</option>
        <option>Personal Care</option>
        <option>Education/Tutoring</option>
        <option>Financial Guidance</option>
        <option>Language Services</option>
        <option>Technical Skills</option>
        <option>Other</option>
      </select>
      <input id="provider" placeholder="Your name or 'Anonymous volunteer'">
      <input id="credentials" placeholder="Credentials (e.g. Licensed dentist, Bar association member)">
      <textarea id="limitations" rows="3" placeholder="Important limitations (e.g. consultation only, no court representation, no emergency care)"></textarea>
      <input id="availability" placeholder="Availability (e.g. Tuesdays 18-20, by appointment)">
      <input id="location" placeholder="Location (e.g. Uppsala, online)">
      <input id="contact" placeholder="Contact method (email, phone – keep secure)">
      <button onclick="addSkill()">Post Offering</button>
    </div>

    <div class="list">
      <h2>Available Services</h2>
      <div id="skills-grid" class="grid"></div>
      <p id="empty" style="text-align:center;color:#64748b;display:none;">No services posted yet. Be the first to offer help!</p>
    </div>
  </div>

  <script>
    function addSkill() {
      const skill = {
        id: Date.now(),
        skill: document.getElementById('skill').value.trim(),
        category: document.getElementById('category').value,
        provider: document.getElementById('provider').value.trim() || 'Anonymous volunteer',
        credentials: document.getElementById('credentials').value.trim(),
        limitations: document.getElementById('limitations').value.trim(),
        availability: document.getElementById('availability').value.trim(),
        location: document.getElementById('location').value.trim(),
        contact: document.getElementById('contact').value.trim(),
        posted: new Date().toISOString()
      };
      if (!skill.skill || !skill.category || !skill.contact) {
        alert("Please fill required fields: skill, category, and contact");
        return;
      }
      let skills = JSON.parse(localStorage.getItem('banaVagSkills') || '[]');
      skills.push(skill);
      localStorage.setItem('banaVagSkills', JSON.stringify(skills));
      renderSkills();
      // Clear form
      document.querySelectorAll('input, textarea, select').forEach(el => {
        if (el.id !== 'category') el.value = '';
      });
      document.getElementById('category').value = '';
    }

    function removeSkill(id) {
      if (!confirm('Remove this offering?')) return;
      let skills = JSON.parse(localStorage.getItem('banaVagSkills') || '[]');
      skills = skills.filter(s => s.id !== id);
      localStorage.setItem('banaVagSkills', JSON.stringify(skills));
      renderSkills();
    }

    function renderSkills() {
      const grid = document.getElementById('skills-grid');
      const empty = document.getElementById('empty');
      let skills = JSON.parse(localStorage.getItem('banaVagSkills') || '[]');
      if (skills.length === 0) {
        grid.innerHTML = '';
        empty.style.display = 'block';
        return;
      }
      empty.style.display = 'none';
      skills = skills.sort((a, b) => b.id - a.id);
      grid.innerHTML = skills.map(s => `
        <div class="card">
          <div class="actions">
            <button onclick="removeSkill(${s.id})">Remove</button>
          </div>
          <h3>${s.skill}</h3>
          <span class="category">${s.category}</span>
          <p><strong>${s.provider}</strong></p>
          ${s.credentials ? `<p><em>Credentials: ${s.credentials}</em></p>` : ''}
          ${s.availability ? `<p><strong>Availability:</strong> ${s.availability}</p>` : ''}
          ${s.location ? `<p><strong>Location:</strong> ${s.location}</p>` : ''}
          ${s.limitations ? `<div class="limitations"><strong>Limitations:</strong> ${s.limitations}</div>` : ''}
          <p><strong>Contact:</strong> ${s.contact}</p>
          <p style="font-size:0.8rem;color:#64748b;margin-top:1rem;">Posted: ${new Date(s.posted).toLocaleDateString()}</p>
        </div>
      `).join('');
    }

    renderSkills();
  </script>
</body>
</html>
